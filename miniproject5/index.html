<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MiniProject5</title>
  </head>
  <body style="padding: 5%">
    <p id="err"></p>
    <input
      type="text"
      id="generate-num"
      placeholder="Generate The Random Number"
      style="padding: 10px; width: 65%; font-size: 15px"
    />
    <button
      style="
        padding: 10px;
        width: 25%;
        background-color: rgb(77, 167, 77);
        color: white;
      "
    >
      Generate Number
    </button>

    <div
      id="contain-num"
      style="
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 4px;
        margin-top: 50px;
        text-align: center;
        font-size: 20px;
      "
    ></div>

    <script>
      function isPrime(num) {
        if (num <= 1) {
          return false;
        }
        for (let i = 2; i < Math.sqrt(num); i++) {
          if (num % i == 0) {
            return false;
          }
        }
        return true;
      }

      const input = document.getElementById("generate-num");
      const btn = document.querySelector("button");
      const ctnnum = document.getElementById("contain-num");
      const err = document.getElementById("err");

      function initialNumber(num) {
        let color = "";
        if (isPrime(num)) {
          color = "yellow";
        } else if (num % 2 == 0) {
          color = "green";
        } else {
          color = "red";
        }
        const div = document.createElement("div");
        div.style.width = "40px";
        div.style.height = "20px";
        div.style.backgroundColor = color;
        div.textContent = num;
        return div;
      }

      for (let i = 0; i <= 100; i++) {
        ctnnum.appendChild(initialNumber(i));
      }

      input.addEventListener("blur", function () {
        err.textContent = "field is required";
        err.style.color = "red";
      });
      btn.addEventListener("click", function (e) {
        const inputValue = input.value;
        const val = Number(inputValue);

        if (isNaN(val)) {
          err.textContent = "Please Provide a number";
          return;
        }
        ctnnum.innerHTML = "";
        for (let i = 0; i <= input.value; i++) {
          ctnnum.appendChild(initialNumber(i));
        }
      });
    </script>
  </body>
</html>
